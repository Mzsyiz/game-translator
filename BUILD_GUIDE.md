# æ‰“åŒ…å’Œå‘å¸ƒæŒ‡å—

## ğŸ“¦ å®Œæ•´å‘å¸ƒæµç¨‹

### å‰ç½®è¦æ±‚

1. **Windows ç³»ç»Ÿ**ï¼ˆæ‰“åŒ…å¿…é¡»åœ¨ Windows ä¸Šè¿›è¡Œï¼‰
2. **Python 3.10+**
3. **æ‰€æœ‰ä¾èµ–å·²å®‰è£…**

```bash
pip install -r requirements.txt
pip install pyinstaller
```

---

## ğŸš€ å¿«é€Ÿå‘å¸ƒï¼ˆ3 æ­¥ï¼‰

### æ­¥éª¤ 1ï¼šæ‰“åŒ…ç¨‹åº

```bash
python build.py
```

**è¾“å‡º**ï¼š
- `dist/å¯åŠ¨ç¿»è¯‘åŠ©æ‰‹.exe` - ç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆçº¦ 500MBï¼‰

**è€—æ—¶**ï¼š5-10 åˆ†é’Ÿ

### æ­¥éª¤ 2ï¼šåˆ›å»ºå‘å¸ƒåŒ…

```bash
python create_release.py
```

**è¾“å‡º**ï¼š
- `release/æ¸¸æˆç¿»è¯‘åŠ©æ‰‹_v1.0.0/` - å‘å¸ƒç›®å½•
- `release/æ¸¸æˆç¿»è¯‘åŠ©æ‰‹_v1.0.0.zip` - å‘å¸ƒå‹ç¼©åŒ…

**è€—æ—¶**ï¼š1-2 åˆ†é’Ÿ

### æ­¥éª¤ 3ï¼šæµ‹è¯•å’Œå‘å¸ƒ

```bash
# 1. åœ¨å¹²å‡€çš„ Windows è™šæ‹Ÿæœºä¸­æµ‹è¯•
# 2. ä¸Šä¼ åˆ° GitHub Releases
# 3. åˆ†äº«ç»™ç”¨æˆ·
```

---

## ğŸ“ å‘å¸ƒåŒ…ç»“æ„

```
æ¸¸æˆç¿»è¯‘åŠ©æ‰‹_v1.0.0/
â”‚
â”œâ”€â”€ ğŸ“„ é¦–æ¬¡ä½¿ç”¨å¿…è¯».txt           # 3 æ­¥å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ ğŸ”§ é¦–æ¬¡ä½¿ç”¨å‘å¯¼.bat           # è™šæ‹Ÿå£°å¡å®‰è£…å‘å¯¼
â”œâ”€â”€ ğŸ”— ä¸‹è½½è™šæ‹Ÿå£°å¡.url           # è™šæ‹Ÿå£°å¡ä¸‹è½½é“¾æ¥
â”œâ”€â”€ ğŸ® å¯åŠ¨ç¿»è¯‘åŠ©æ‰‹.exe          # ä¸»ç¨‹åºï¼ˆ500MBï¼‰
â”‚
â”œâ”€â”€ ğŸ“ config/                   # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ settings.yaml           # ä¸»é…ç½®
â”‚
â”œâ”€â”€ ğŸ“ translation/              # ç¿»è¯‘ç›¸å…³
â”‚   â””â”€â”€ slang_dict.json         # æ¸¸æˆé»‘è¯è¯å…¸
â”‚
â”œâ”€â”€ ğŸ“ docs/                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ QUICKSTART.md
â”‚   â””â”€â”€ INSTALL.md
â”‚
â”œâ”€â”€ ğŸ“ models/                   # æ¨¡å‹ç¼“å­˜ï¼ˆé¦–æ¬¡è¿è¡Œè‡ªåŠ¨ä¸‹è½½ï¼‰
â”‚   â””â”€â”€ .gitkeep
â”‚
â””â”€â”€ ğŸ“ logs/                     # æ—¥å¿—ç›®å½•ï¼ˆè¿è¡Œæ—¶ç”Ÿæˆï¼‰
    â””â”€â”€ .gitkeep
```

---

## ğŸ”§ è¯¦ç»†è¯´æ˜

### build.py - æ‰“åŒ…è„šæœ¬

**åŠŸèƒ½**ï¼š
- ä½¿ç”¨ PyInstaller å°† Python ç¨‹åºæ‰“åŒ…æˆ exe
- åŒ…å«æ‰€æœ‰ä¾èµ–åº“
- ä¼˜åŒ–æ–‡ä»¶å¤§å°
- å»é™¤è°ƒè¯•ç¬¦å·

**å…³é”®å‚æ•°**ï¼š

```python
--onefile           # æ‰“åŒ…æˆå•ä¸ªæ–‡ä»¶
--windowed          # æ— æ§åˆ¶å°çª—å£
--add-data          # æ·»åŠ æ•°æ®æ–‡ä»¶
--hidden-import     # ç¡®ä¿æ¨¡å—è¢«åŒ…å«
--exclude-module    # æ’é™¤ä¸éœ€è¦çš„æ¨¡å—
--strip             # å»é™¤è°ƒè¯•ç¬¦å·
--noupx             # ä¸ä½¿ç”¨ UPX å‹ç¼©ï¼ˆé¿å…è¯¯æŠ¥ï¼‰
```

**å¸¸è§é—®é¢˜**ï¼š

#### é—®é¢˜ 1ï¼šæ‰“åŒ…åè¿è¡ŒæŠ¥é”™ "No module named 'xxx'"

**è§£å†³**ï¼šåœ¨ `build.py` ä¸­æ·»åŠ éšè—å¯¼å…¥

```python
'--hidden-import=xxx',
```

#### é—®é¢˜ 2ï¼šæ‰“åŒ…æ–‡ä»¶è¿‡å¤§ï¼ˆ>1GBï¼‰

**è§£å†³**ï¼šæ’é™¤ä¸éœ€è¦çš„æ¨¡å—

```python
'--exclude-module=matplotlib',
'--exclude-module=pandas',
```

#### é—®é¢˜ 3ï¼šæ€æ¯’è½¯ä»¶è¯¯æŠ¥

**è§£å†³**ï¼š
- ä½¿ç”¨ `--noupx` å‚æ•°ï¼ˆå·²æ·»åŠ ï¼‰
- åœ¨æ€æ¯’è½¯ä»¶ä¸­æ·»åŠ ç™½åå•
- ä½¿ç”¨ä»£ç ç­¾åè¯ä¹¦

---

### create_release.py - å‘å¸ƒåŒ…åˆ›å»ºè„šæœ¬

**åŠŸèƒ½**ï¼š
- æ•´ç†æ‰“åŒ…å¥½çš„ç¨‹åº
- æ·»åŠ é…ç½®æ–‡ä»¶å’Œæ–‡æ¡£
- åˆ›å»ºä½¿ç”¨è¯´æ˜
- æ‰“åŒ…æˆ ZIP

**è¾“å‡ºæ–‡ä»¶**ï¼š

1. **é¦–æ¬¡ä½¿ç”¨å¿…è¯».txt**
   - 3 æ­¥å¿«é€Ÿå¼€å§‹
   - å¸¸è§é—®é¢˜è§£ç­”
   - å®‰å…¨è¯´æ˜

2. **é¦–æ¬¡ä½¿ç”¨å‘å¯¼.bat**
   - è‡ªåŠ¨æ‰“å¼€è™šæ‹Ÿå£°å¡ä¸‹è½½é¡µé¢
   - å¼•å¯¼ç”¨æˆ·å®Œæˆå®‰è£…

3. **ä¸‹è½½è™šæ‹Ÿå£°å¡.url**
   - ç›´æ¥é“¾æ¥åˆ°å®˜æ–¹ä¸‹è½½é¡µé¢

---

## ğŸ§ª æµ‹è¯•æ¸…å•

### æ‰“åŒ…æµ‹è¯•

- [ ] æ‰“åŒ…æˆåŠŸï¼Œæ— é”™è¯¯
- [ ] exe æ–‡ä»¶å¯ä»¥æ­£å¸¸è¿è¡Œ
- [ ] é…ç½®æ–‡ä»¶æ­£ç¡®åŠ è½½
- [ ] æ—¥å¿—æ­£å¸¸è¾“å‡º

### åŠŸèƒ½æµ‹è¯•ï¼ˆåœ¨å¹²å‡€çš„ Windows è™šæ‹Ÿæœºä¸­ï¼‰

- [ ] è§£å‹å‘å¸ƒåŒ…
- [ ] é˜…è¯»é¦–æ¬¡ä½¿ç”¨å¿…è¯».txt
- [ ] è¿è¡Œé¦–æ¬¡ä½¿ç”¨å‘å¯¼.bat
- [ ] å®‰è£…è™šæ‹Ÿå£°å¡
- [ ] é‡å¯ç”µè„‘
- [ ] é…ç½®æ¸¸æˆéŸ³é¢‘
- [ ] è¿è¡Œå¯åŠ¨ç¿»è¯‘åŠ©æ‰‹.exe
- [ ] æµ‹è¯•éŸ³é¢‘æ•è·
- [ ] æµ‹è¯•è¯­éŸ³è¯†åˆ«
- [ ] æµ‹è¯•ç¿»è¯‘åŠŸèƒ½
- [ ] æµ‹è¯•å­—å¹•æ˜¾ç¤º

### å…¼å®¹æ€§æµ‹è¯•

- [ ] Windows 10 (21H2)
- [ ] Windows 11 (22H2)
- [ ] æ—  Python ç¯å¢ƒ
- [ ] æ—  CUDA ç¯å¢ƒï¼ˆCPU æ¨¡å¼ï¼‰
- [ ] æœ‰ CUDA ç¯å¢ƒï¼ˆGPU æ¨¡å¼ï¼‰

---

## ğŸ“¤ å‘å¸ƒåˆ° GitHub

### 1. åˆ›å»º Release

```bash
# 1. åœ¨ GitHub ä»“åº“é¡µé¢ç‚¹å‡» "Releases"
# 2. ç‚¹å‡» "Draft a new release"
# 3. å¡«å†™ä¿¡æ¯ï¼š
```

**Tag version**: `v1.0.0`

**Release title**: `æ¸¸æˆç¿»è¯‘åŠ©æ‰‹ v1.0.0`

**Description**:

```markdown
## ğŸ® æ¸¸æˆå®æ—¶è¯­éŸ³ç¿»è¯‘å·¥å…· v1.0.0

### âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… å¤šè¯­è¨€è¯­éŸ³è¯†åˆ«ï¼ˆæ”¯æŒ 100+ è¯­è¨€ï¼‰
- âœ… åŒç¿»è¯‘å¼•æ“ï¼ˆæœ¬åœ° + åœ¨çº¿ï¼‰
- âœ… é€æ˜å­—å¹• Overlay
- âœ… æ¸¸æˆé»‘è¯è¯å…¸
- âœ… ä½å»¶è¿Ÿä¼˜åŒ–ï¼ˆ0.6-1.2sï¼‰
- âœ… å®‰å…¨æ— å°å·é£é™©

### ğŸ“¦ ä¸‹è½½

- [æ¸¸æˆç¿»è¯‘åŠ©æ‰‹_v1.0.0.zip](é“¾æ¥) - å®Œæ•´ç‰ˆï¼ˆçº¦ 500MBï¼‰

### ğŸš€ å¿«é€Ÿå¼€å§‹

1. ä¸‹è½½å¹¶è§£å‹
2. é˜…è¯»ã€Œé¦–æ¬¡ä½¿ç”¨å¿…è¯».txtã€
3. è¿è¡Œã€Œé¦–æ¬¡ä½¿ç”¨å‘å¯¼.batã€å®‰è£…è™šæ‹Ÿå£°å¡
4. åŒå‡»ã€Œå¯åŠ¨ç¿»è¯‘åŠ©æ‰‹.exeã€

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Windows 10/11
- 16GB RAMï¼ˆæ¨èï¼‰
- NVIDIA æ˜¾å¡ï¼ˆå¯é€‰ï¼Œç”¨äº GPU åŠ é€Ÿï¼‰

### ğŸ“ æ›´æ–°æ—¥å¿—

- é¦–æ¬¡å‘å¸ƒ

### âš ï¸ æ³¨æ„äº‹é¡¹

- é¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½ AI æ¨¡å‹ï¼ˆçº¦ 1.5GBï¼‰
- éœ€è¦å®‰è£…è™šæ‹Ÿå£°å¡ï¼ˆVB-Audio Virtual Cableï¼‰
- å»ºè®®æ¸¸æˆä½¿ç”¨æ— è¾¹æ¡†çª—å£æ¨¡å¼

### ğŸ“ é—®é¢˜åé¦ˆ

é‡åˆ°é—®é¢˜è¯·æäº¤ Issue
```

### 2. ä¸Šä¼ æ–‡ä»¶

```bash
# æ‹–æ‹½ä¸Šä¼ ï¼š
release/æ¸¸æˆç¿»è¯‘åŠ©æ‰‹_v1.0.0.zip
```

### 3. å‘å¸ƒ

ç‚¹å‡» "Publish release"

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°æµç¨‹

### 1. æ›´æ–°ç‰ˆæœ¬å·

```python
# create_release.py
version = "v1.1.0"  # ä¿®æ”¹è¿™é‡Œ
```

### 2. æ›´æ–° CHANGELOG

```markdown
## v1.1.0 (2026-02-10)

### æ–°åŠŸèƒ½
- æ·»åŠ å…¨å±€å¿«æ·é”®æ”¯æŒ
- æ·»åŠ æ€§èƒ½ç›‘æ§é¢æ¿

### ä¼˜åŒ–
- é™ä½å†…å­˜å ç”¨
- æå‡è¯†åˆ«é€Ÿåº¦

### ä¿®å¤
- ä¿®å¤å…¨å±æ¸¸æˆå­—å¹•é®æŒ¡é—®é¢˜
- ä¿®å¤å¤šäººåŒæ—¶è¯´è¯è¯†åˆ«æ··ä¹±
```

### 3. é‡æ–°æ‰“åŒ…

```bash
python build.py
python create_release.py
```

### 4. æµ‹è¯•

åœ¨å¹²å‡€ç¯å¢ƒä¸­å®Œæ•´æµ‹è¯•

### 5. å‘å¸ƒ

åˆ›å»ºæ–°çš„ GitHub Release

---

## ğŸ¯ ä¼˜åŒ–å»ºè®®

### å‡å°æ–‡ä»¶å¤§å°

1. **æ’é™¤ä¸éœ€è¦çš„æ¨¡å—**

```python
'--exclude-module=matplotlib',
'--exclude-module=pandas',
'--exclude-module=IPython',
```

2. **ä½¿ç”¨æ›´å°çš„ Whisper æ¨¡å‹**

é»˜è®¤ä½¿ç”¨ `medium` æ¨¡å‹ï¼Œå¯ä»¥æ”¹ä¸º `small` æˆ– `base`

3. **ä¸åŒ…å«æ‰€æœ‰ç¿»è¯‘æ¨¡å‹**

åªåŒ…å«å¸¸ç”¨è¯­è¨€å¯¹çš„ç¿»è¯‘æ¨¡å‹

### æå‡å¯åŠ¨é€Ÿåº¦

1. **å»¶è¿ŸåŠ è½½æ¨¡å‹**

```python
# ä¸åœ¨å¯åŠ¨æ—¶åŠ è½½ï¼Œè€Œæ˜¯åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶åŠ è½½
self.whisper_model = None

def get_whisper_model(self):
    if self.whisper_model is None:
        self.whisper_model = WhisperModel(...)
    return self.whisper_model
```

2. **ä½¿ç”¨å¯åŠ¨ç”»é¢**

æ˜¾ç¤ºåŠ è½½è¿›åº¦ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

### æ·»åŠ è‡ªåŠ¨æ›´æ–°

```python
def check_update():
    """æ£€æŸ¥æ›´æ–°"""
    url = "https://api.github.com/repos/user/repo/releases/latest"
    response = requests.get(url)
    latest_version = response.json()["tag_name"]

    if latest_version > current_version:
        # æç¤ºç”¨æˆ·æ›´æ–°
        pass
```

---

## ğŸ“Š æ‰“åŒ…æ€§èƒ½å¯¹æ¯”

| æ–¹æ¡ˆ | æ–‡ä»¶å¤§å° | å¯åŠ¨é€Ÿåº¦ | ç”¨æˆ·ä½“éªŒ |
|------|---------|---------|----------|
| PyInstaller --onefile | 500MB | æ…¢ï¼ˆ5-10sï¼‰ | â­â­â­â­ |
| PyInstaller --onedir | 800MB | å¿«ï¼ˆ1-2sï¼‰ | â­â­â­â­â­ |
| Nuitka | 300MB | å¾ˆå¿«ï¼ˆ<1sï¼‰ | â­â­â­â­â­ |
| cx_Freeze | 600MB | ä¸­ç­‰ï¼ˆ3-5sï¼‰ | â­â­â­â­ |

**æ¨è**ï¼š
- æ™®é€šç”¨æˆ·ï¼šPyInstaller --onefileï¼ˆå½“å‰æ–¹æ¡ˆï¼‰
- è¿½æ±‚æ€§èƒ½ï¼šPyInstaller --onedir æˆ– Nuitka

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šæ‰“åŒ…åè¿è¡ŒæŠ¥é”™

**ç—‡çŠ¶**ï¼šåŒå‡» exe æ— ååº”æˆ–é—ªé€€

**æ’æŸ¥**ï¼š
```bash
# åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œï¼ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
cd dist
å¯åŠ¨ç¿»è¯‘åŠ©æ‰‹.exe
```

**å¸¸è§åŸå› **ï¼š
- ç¼ºå°‘éšè—å¯¼å…¥
- æ•°æ®æ–‡ä»¶è·¯å¾„é”™è¯¯
- ä¾èµ–åº“ç‰ˆæœ¬ä¸å…¼å®¹

### é—®é¢˜ 2ï¼šæ€æ¯’è½¯ä»¶è¯¯æŠ¥

**ç—‡çŠ¶**ï¼šexe è¢«åˆ é™¤æˆ–æ— æ³•è¿è¡Œ

**è§£å†³**ï¼š
- ä½¿ç”¨ `--noupx` å‚æ•°ï¼ˆå·²æ·»åŠ ï¼‰
- æ·»åŠ ç™½åå•
- ä½¿ç”¨ä»£ç ç­¾å

### é—®é¢˜ 3ï¼šæ–‡ä»¶è¿‡å¤§

**ç—‡çŠ¶**ï¼šexe è¶…è¿‡ 1GB

**è§£å†³**ï¼š
- æ’é™¤ä¸éœ€è¦çš„æ¨¡å—
- ä½¿ç”¨ `--onedir` æ¨¡å¼
- ä½¿ç”¨ Nuitka ç¼–è¯‘

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [PyInstaller å®˜æ–¹æ–‡æ¡£](https://pyinstaller.org/)
- [PyInstaller å¸¸è§é—®é¢˜](https://github.com/pyinstaller/pyinstaller/wiki)
- [Nuitka ç¼–è¯‘å™¨](https://nuitka.net/)

---

## âœ… å‘å¸ƒæ£€æŸ¥æ¸…å•

### æ‰“åŒ…å‰

- [ ] ä»£ç å·²æµ‹è¯•ï¼Œæ— å·²çŸ¥ bug
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] CHANGELOG å·²æ›´æ–°
- [ ] æ–‡æ¡£å·²æ›´æ–°

### æ‰“åŒ…ä¸­

- [ ] æ‰“åŒ…æˆåŠŸï¼Œæ— é”™è¯¯
- [ ] æ–‡ä»¶å¤§å°åˆç†ï¼ˆ<1GBï¼‰
- [ ] å¯åŠ¨é€Ÿåº¦å¯æ¥å—ï¼ˆ<10sï¼‰

### æ‰“åŒ…å

- [ ] åœ¨å¹²å‡€ç¯å¢ƒä¸­æµ‹è¯•
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- [ ] æ–‡æ¡£å‡†ç¡®
- [ ] æ— æ€æ¯’è½¯ä»¶è¯¯æŠ¥

### å‘å¸ƒå‰

- [ ] åˆ›å»º GitHub Release
- [ ] ä¸Šä¼ æ–‡ä»¶
- [ ] ç¼–å†™ Release Notes
- [ ] æµ‹è¯•ä¸‹è½½é“¾æ¥

### å‘å¸ƒå

- [ ] é€šçŸ¥ç”¨æˆ·
- [ ] æ”¶é›†åé¦ˆ
- [ ] ä¿®å¤é—®é¢˜
- [ ] å‡†å¤‡ä¸‹ä¸€ç‰ˆæœ¬

---

**ç¥å‘å¸ƒé¡ºåˆ©ï¼** ğŸ‰
